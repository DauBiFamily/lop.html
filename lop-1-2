<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ã”n Táº­p Tiá»ƒu Há»c</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
    @import url('https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&display=swap');
    body { font-family: 'Nunito', sans-serif; background-color:#FDFBF7; color:#4A4A4A; }
    .tab-active { background-color:#ED8936; color:white; font-weight:700; }
    .tab-inactive { background-color:white; color:#718096; font-weight:600; }
    .tab-inactive:hover { background-color:#FEF3C7; color:#D97706; }
    .card-hover:hover { transform: translateY(-2px); box-shadow:0 4px 6px rgba(0,0,0,0.1); }
    .correct-answer { background-color:#C6F6D5; border:2px solid #48BB78; }
    .incorrect-answer { background-color:#FED7D7; border:2px solid #F56565; }
</style>
</head>
<body class="min-h-screen flex flex-col items-center py-6 px-4">

<div id="app" class="w-full max-w-5xl bg-white shadow-xl rounded-2xl overflow-hidden flex flex-col min-h-[900px]">

<!-- Header -->
<header class="bg-[#FFEDD5] p-6 text-center border-b border-orange-100">
  <h1 class="text-3xl md:text-4xl font-bold text-orange-800 mb-2">ğŸ’ Ã”n Táº­p Tiá»ƒu Há»c</h1>
  <p class="text-orange-700 font-medium">Chá»n lá»›p Ä‘á»ƒ báº¯t Ä‘áº§u há»c</p>
  <div class="flex justify-center gap-4 mt-4">
    <button onclick="switchGrade('grade1')" id="btn-grade1" class="px-6 py-2 rounded-lg tab-active">Lá»›p 1</button>
    <button onclick="switchGrade('grade2')" id="btn-grade2" class="px-6 py-2 rounded-lg tab-inactive">Lá»›p 2</button>
  </div>
</header>

<!-- Navigation Tabs -->
<nav class="flex flex-wrap justify-center bg-orange-50 border-b border-orange-100 p-2 gap-2 mt-2" id="nav-subjects">
  <!-- Buttons sáº½ Ä‘Æ°á»£c render báº±ng JS -->
</nav>

<!-- Content Area -->
<main id="content-area" class="flex-grow p-6 overflow-y-auto bg-[#FDFBF7]">
  <!-- Ná»™i dung render báº±ng JS -->
</main>

<!-- Footer -->
<footer class="bg-gray-50 p-4 text-center text-gray-500 text-sm border-t">
  <p>ChÃºc cÃ¡c báº¡n há»c tá»‘t! ğŸŒŸ</p>
</footer>

</div>

<script>
// ======== Dá»® LIá»†U MáºªU ========
const grade1Data = {
  name:"Lá»›p 1",
  subjects:{
    math:{
      summary: {
                strengths: ["ThÃ nh pháº§n phÃ©p tÃ­nh (Sá»‘ háº¡ng, Tá»•ng)", "Äá»•i Ä‘Æ¡n vá»‹ (dm, cm)", "Xem Ä‘á»“ng há»“ giá» Ä‘Ãºng"],
                weaknesses: ["TÃ­nh chÃ­nh xÃ¡c khi cá»™ng trá»« (cÃ³ nhá»›)", "TÆ° duy cáº¥u táº¡o sá»‘ (sá»‘ lá»›n nháº¥t/nhá» nháº¥t)", "Giáº£i toÃ¡n cÃ³ lá»i vÄƒn"],
                intro: "ChÃ o má»«ng báº¡n trá»Ÿ láº¡i! Dá»±a trÃªn bÃ i kiá»ƒm tra vá»«a qua, chÃºng mÃ¬nh Ä‘Ã£ tá»•ng há»£p láº¡i lá»™ trÃ¬nh Ã´n táº­p nÃ y. Báº¡n Ä‘Ã£ lÃ m ráº¥t tá»‘t cÃ¡c pháº§n cÆ¡ báº£n, nhÆ°ng chÃºng ta cáº§n rÃ¨n luyá»‡n thÃªm má»™t chÃºt vá» tÃ­nh toÃ¡n cáº©n tháº­n vÃ  cÃ¡c bÃ i toÃ¡n Ä‘á»‘ nhÃ©."
            },
            concepts: [
                {
                    id: "calc",
                    title: "ğŸ”¢ PhÃ©p Cá»™ng & Trá»« (CÃ³ Nhá»›)",
                    intro: "Pháº§n nÃ y táº­p trung sá»­a cÃ¡c lá»—i tÃ­nh toÃ¡n thÆ°á»ng gáº·p. NguyÃªn táº¯c quan trá»ng nháº¥t: LuÃ´n tÃ­nh tá»« pháº£i sang trÃ¡i (HÃ ng Ä‘Æ¡n vá»‹ trÆ°á»›c, HÃ ng chá»¥c sau).",
                    points: [
                        {
                            label: "Lá»—i sai thÆ°á»ng gáº·p (34 + 25)",
                            wrong: "69 (Sai á»Ÿ hÃ ng chá»¥c)",
                            right: "59 (ÄÃºng)",
                            explanation: "4 + 5 = 9 (viáº¿t 9). 3 + 2 = 5 (viáº¿t 5). Káº¿t quáº£ lÃ  59. HÃ£y cáº©n tháº­n khi cá»™ng cÃ¡c sá»‘ hÃ ng chá»¥c!"
                        },
                        {
                            label: "PhÃ©p trá»« cÃ³ nhá»› (62 - 28)",
                            wrong: "QuÃªn mÆ°á»£n",
                            right: "34",
                            explanation: "2 khÃ´ng trá»« Ä‘Æ°á»£c 8, mÆ°á»£n 1 chá»¥c thÃ nh 12 - 8 = 4 (nhá»› 1). 2 thÃªm 1 lÃ  3. 6 - 3 = 3."
                        }
                    ]
                },
                {
                    id: "structure",
                    title: "ğŸ—ï¸ Cáº¥u Táº¡o Sá»‘",
                    intro: "Hiá»ƒu rÃµ vá» vá»‹ trÃ­ cÃ¡c chá»¯ sá»‘ giÃºp báº¡n tÃ¬m ra sá»‘ lá»›n nháº¥t hoáº·c nhá» nháº¥t má»™t cÃ¡ch chÃ­nh xÃ¡c.",
                    points: [
                        {
                            label: "Sá»‘ lá»›n nháº¥t cÃ³ 2 chá»¯ sá»‘ khÃ¡c nhau",
                            wrong: "89 (Chá»n hÃ ng Ä‘Æ¡n vá»‹ lá»›n trÆ°á»›c)",
                            right: "98",
                            explanation: "BÆ°á»›c 1: Chá»n hÃ ng chá»¥c lá»›n nháº¥t -> 9. BÆ°á»›c 2: Chá»n hÃ ng Ä‘Æ¡n vá»‹ lá»›n nháº¥t khÃ¡c 9 -> 8. Káº¿t quáº£: 98."
                        },
                        {
                            label: "Sá»‘ liá»n trÆ°á»›c/sau",
                            wrong: "Nháº§m láº«n khÃ¡i niá»‡m",
                            right: "TrÆ°á»›c (-1), Sau (+1)",
                            explanation: "Sá»‘ liá»n trÆ°á»›c cá»§a 80 lÃ  79 (80 - 1). Sá»‘ liá»n sau cá»§a 80 lÃ  81 (80 + 1)."
                        }
                    ]
                },
                {
                    id: "wordproblems",
                    title: "ğŸ“ ToÃ¡n CÃ³ Lá»i VÄƒn",
                    intro: "Äá»c ká»¹ Ä‘á» bÃ i Ä‘á»ƒ chá»n phÃ©p tÃ­nh Ä‘Ãºng. CÃ¡c tá»« khÃ³a quan trá»ng sáº½ giÃºp báº¡n quyáº¿t Ä‘á»‹nh nÃªn Cá»™ng hay Trá»«.",
                    points: [
                        {
                            label: "Nhiá»u hÆ¡n / Táº¥t cáº£ / Cáº£ hai",
                            type: "Cá»™ng (+)",
                            example: "A nhiá»u hÆ¡n B 5 viÃªn. TÃ¬m A -> Láº¥y B + 5."
                        },
                        {
                            label: "Ãt hÆ¡n / Nháº¹ hÆ¡n / CÃ²n láº¡i",
                            type: "Trá»« (-)",
                            example: "Bao bÃ© nháº¹ hÆ¡n bao to 5kg. TÃ¬m bao bÃ© -> Láº¥y Bao to - 5kg."
                        }
                    ]
                },
                {
                    id: "geometry",
                    title: "ğŸ“ HÃ¬nh Há»c & Thá»i Gian",
                    intro: "CÃ¡c quy táº¯c cáº§n nhá»› vá» hÃ¬nh pháº³ng vÃ  cÃ¡ch tÃ­nh ngÃ y thÃ¡ng.",
                    points: [
                        {
                            label: "Äiá»ƒm tháº³ng hÃ ng",
                            content: "3 Ä‘iá»ƒm cÃ¹ng náº±m trÃªn má»™t Ä‘Æ°á»ng tháº³ng (dÃ¹ng thÆ°á»›c káº» kiá»ƒm tra)."
                        },
                        {
                            label: "Lá»‹ch (Tuáº§n)",
                            content: "1 tuáº§n = 7 ngÃ y. Thá»© nÃ y tuáº§n sau = NgÃ y hÃ´m nay + 7. (VÃ­ dá»¥: NgÃ y 15 + 7 = 22)."
                        }
                    ]
                }
            ],
            vocab: [
                { term: "Sá»‘ háº¡ng", def: "ThÃ nh pháº§n trong phÃ©p cá»™ng (VD: 3 + 2 = 5, thÃ¬ 3 vÃ  2 lÃ  sá»‘ háº¡ng)." },
                { term: "Tá»•ng", def: "Káº¿t quáº£ cá»§a phÃ©p cá»™ng." },
                { term: "Sá»‘ bá»‹ trá»«", def: "Sá»‘ Ä‘á»©ng trÆ°á»›c dáº¥u trá»«." },
                { term: "Sá»‘ trá»«", def: "Sá»‘ Ä‘á»©ng sau dáº¥u trá»«." },
                { term: "Hiá»‡u", def: "Káº¿t quáº£ cá»§a phÃ©p trá»«." },
                { term: "Chu vi", def: "Tá»•ng Ä‘á»™ dÃ i cÃ¡c Ä‘Æ°á»ng bao quanh má»™t hÃ¬nh." },
                { term: "dm (Äá»-xi-mÃ©t)", def: "ÄÆ¡n vá»‹ Ä‘o Ä‘á»™ dÃ i. 1 dm = 10 cm." },
                { term: "Äiá»ƒm tháº³ng hÃ ng", def: "Ba Ä‘iá»ƒm cÃ¹ng náº±m trÃªn má»™t Ä‘Æ°á»ng tháº³ng." }
            ],
            quiz: [
                // 1. PhÃ©p cá»™ng cÃ³ nhá»› (CÆ¡ báº£n)
                { q: "Äáº·t tÃ­nh rá»“i tÃ­nh: 47 + 35 = ?", options: ["72", "82", "81", "712"], correct: 1, explain: "7 + 5 = 12 (viáº¿t 2 nhá»› 1). 4 + 3 = 7, thÃªm 1 báº±ng 8. Káº¿t quáº£ lÃ  82." },
                // 2. PhÃ©p trá»« cÃ³ nhá»› (CÆ¡ báº£n)
                { q: "Äáº·t tÃ­nh rá»“i tÃ­nh: 81 - 26 = ?", options: ["65", "55", "54", "64"], correct: 1, explain: "1 khÃ´ng trá»« Ä‘Æ°á»£c 6, láº¥y 11 - 6 = 5 (nhá»› 1). 2 thÃªm 1 báº±ng 3. 8 - 3 = 5. Káº¿t quáº£ lÃ  55." },
                // 3. Cáº¥u táº¡o sá»‘ (BÃ© nháº¥t khÃ¡c nhau)
                { q: "Sá»‘ bÃ© nháº¥t cÃ³ hai chá»¯ sá»‘ khÃ¡c nhau lÃ  sá»‘ nÃ o?", options: ["10", "11", "12", "01"], correct: 0, explain: "HÃ ng chá»¥c bÃ© nháº¥t khÃ¡c 0 lÃ  1. HÃ ng Ä‘Æ¡n vá»‹ bÃ© nháº¥t khÃ¡c 1 lÃ  0. Váº­y sá»‘ Ä‘Ã³ lÃ  10." },
                // 4. ToÃ¡n lá»i vÄƒn (Ãt hÆ¡n)
                { q: "Lan cÃ³ 14 háº¡c giáº¥y. Mai gáº¥p Ã­t hÆ¡n Lan 5 con. Há»i Mai gáº¥p Ä‘Æ°á»£c bao nhiÃªu?", options: ["19 con", "9 con", "10 con", "11 con"], correct: 1, explain: "BÃ i toÃ¡n 'Ã­t hÆ¡n' dÃ¹ng phÃ©p trá»«: 14 - 5 = 9 con." },
                // 5. Lá»‹ch (Tuáº§n)
                { q: "HÃ´m nay lÃ  thá»© TÆ° ngÃ y 10. Thá»© TÆ° tuáº§n sau lÃ  ngÃ y bao nhiÃªu?", options: ["NgÃ y 16", "NgÃ y 18", "NgÃ y 17", "NgÃ y 20"], correct: 2, explain: "Má»™t tuáº§n cÃ³ 7 ngÃ y. Thá»© TÆ° tuáº§n sau lÃ  ngÃ y: 10 + 7 = 17." },
                // 6. PhÃ©p cá»™ng cÃ³ nhá»› (Thay Ä‘á»•i vá»‹ trÃ­)
                { q: "TÃ­nh: 56 + 18 = ?", options: ["74", "64", "68", "72"], correct: 0, explain: "6 + 8 = 14 (viáº¿t 4 nhá»› 1). 5 + 1 = 6, thÃªm 1 báº±ng 7. Káº¿t quáº£ lÃ  74." },
                // 7. PhÃ©p trá»« cÃ³ nhá»› (Tá»« sá»‘ trÃ²n chá»¥c)
                { q: "TÃ­nh: 70 - 45 = ?", options: ["35", "25", "20", "30"], correct: 1, explain: "0 khÃ´ng trá»« Ä‘Æ°á»£c 5, láº¥y 10 - 5 = 5 (nhá»› 1). 4 thÃªm 1 lÃ  5. 7 - 5 = 2. Káº¿t quáº£ lÃ  25." },
                // 8. Cáº¥u táº¡o sá»‘ (Lá»›n nháº¥t khÃ¡c nhau)
                { q: "Sá»‘ lá»›n nháº¥t cÃ³ hai chá»¯ sá»‘ khÃ¡c nhau lÃ  sá»‘ nÃ o?", options: ["99", "89", "98", "100"], correct: 2, explain: "HÃ ng chá»¥c lá»›n nháº¥t lÃ  9. HÃ ng Ä‘Æ¡n vá»‹ lá»›n nháº¥t khÃ¡c 9 lÃ  8. Káº¿t quáº£ lÃ  98." },
                // 9. ToÃ¡n lá»i vÄƒn (Nhiá»u hÆ¡n)
                { q: "Lá»›p 2A cÃ³ 25 há»c sinh, lá»›p 2B nhiá»u hÆ¡n lá»›p 2A 7 há»c sinh. Há»i lá»›p 2B cÃ³ bao nhiÃªu há»c sinh?", options: ["32", "18", "30", "33"], correct: 0, explain: "BÃ i toÃ¡n 'nhiá»u hÆ¡n' dÃ¹ng phÃ©p cá»™ng: 25 + 7 = 32 há»c sinh." },
                // 10. Äáº¡i lÆ°á»£ng (Äá»•i Ä‘Æ¡n vá»‹)
                { q: "Äoáº¡n tháº³ng dÃ i 3 dm 8 cm. Äá»™ dÃ i Ä‘oáº¡n tháº³ng Ä‘Ã³ lÃ  bao nhiÃªu cm?", options: ["38 cm", "11 cm", "308 cm", "83 cm"], correct: 0, explain: "1 dm = 10 cm. Váº­y 3 dm = 30 cm. 30 cm + 8 cm = 38 cm." },
                // 11. PhÃ©p cá»™ng 3 sá»‘
                { q: "TÃ­nh: 15 + 27 + 3 = ?", options: ["45", "42", "40", "43"], correct: 0, explain: "15 + 27 = 42. 42 + 3 = 45." },
                // 12. PhÃ©p trá»« liÃªn tiáº¿p
                { q: "TÃ­nh: 90 - 15 - 5 = ?", options: ["70", "80", "75", "85"], correct: 0, explain: "90 - 15 = 75. 75 - 5 = 70." },
                // 13. Cáº¥u táº¡o sá»‘ (Liá»n trÆ°á»›c)
                { q: "Sá»‘ liá»n trÆ°á»›c cá»§a 60 lÃ  sá»‘ nÃ o?", options: ["61", "59", "50", "62"], correct: 1, explain: "Sá»‘ liá»n trÆ°á»›c lÃ  sá»‘ bÃ© hÆ¡n 1: 60 - 1 = 59." },
                // 14. HÃ¬nh há»c (Chu vi)
                { q: "Má»™t hÃ¬nh tam giÃ¡c cÃ³ 3 cáº¡nh dÃ i 10 cm, 8 cm vÃ  6 cm. Chu vi cá»§a hÃ¬nh tam giÃ¡c Ä‘Ã³ lÃ  bao nhiÃªu?", options: ["24 cm", "18 cm", "28 cm", "14 cm"], correct: 0, explain: "Chu vi lÃ  tá»•ng Ä‘á»™ dÃ i cÃ¡c cáº¡nh: 10 + 8 + 6 = 24 cm." },
                // 15. ToÃ¡n lá»i vÄƒn (TÃ¬m thÃ nh pháº§n)
                { q: "TÃ¬m x, biáº¿t x + 19 = 50.", options: ["21", "31", "30", "41"], correct: 1, explain: "x lÃ  sá»‘ háº¡ng chÆ°a biáº¿t. x = Tá»•ng - Sá»‘ háº¡ng kia. x = 50 - 19 = 31." },
                // 16. Cá»™ng cÃ³ nhá»› (2 láº§n nhá»›)
                { q: "TÃ­nh: 39 + 48 = ?", options: ["77", "87", "86", "79"], correct: 1, explain: "9 + 8 = 17 (viáº¿t 7 nhá»› 1). 3 + 4 = 7, thÃªm 1 báº±ng 8. Káº¿t quáº£ lÃ  87." },
                // 17. Trá»« cÃ³ nhá»› (2 láº§n nhá»›)
                { q: "TÃ­nh: 95 - 67 = ?", options: ["38", "28", "22", "32"], correct: 1, explain: "5 khÃ´ng trá»« Ä‘Æ°á»£c 7, láº¥y 15 - 7 = 8 (nhá»› 1). 6 thÃªm 1 lÃ  7. 9 - 7 = 2. Káº¿t quáº£ lÃ  28." },
                // 18. Äáº¡i lÆ°á»£ng (So sÃ¡nh)
                { q: "Chá»n dáº¥u thÃ­ch há»£p Ä‘iá»n vÃ o chá»— trá»‘ng: 4 dm 5 cm ... 54 cm", options: [">", "<", "="], correct: 1, explain: "4 dm 5 cm = 40 cm + 5 cm = 45 cm. VÃ¬ 45 cm < 54 cm, nÃªn chá»n dáº¥u <." },
                // 19. Cáº¥u táº¡o sá»‘ (Liá»n sau)
                { q: "Sá»‘ liá»n sau cá»§a 99 lÃ  sá»‘ nÃ o?", options: ["98", "100", "90", "101"], correct: 1, explain: "Sá»‘ liá»n sau lÃ  sá»‘ lá»›n hÆ¡n 1: 99 + 1 = 100." },
                // 20. ToÃ¡n lá»i vÄƒn (Tá»•ng há»£p)
                { q: "ThÃ¹ng thá»© nháº¥t cÃ³ 35 lÃ­t dáº§u, thÃ¹ng thá»© hai cÃ³ Ã­t hÆ¡n thÃ¹ng thá»© nháº¥t 8 lÃ­t. Há»i cáº£ hai thÃ¹ng cÃ³ bao nhiÃªu lÃ­t dáº§u?", options: ["62 lÃ­t", "43 lÃ­t", "52 lÃ­t", "60 lÃ­t"], correct: 0, explain: "ThÃ¹ng thá»© hai cÃ³: 35 - 8 = 27 (lÃ­t). Cáº£ hai thÃ¹ng cÃ³: 35 + 27 = 62 (lÃ­t)." },
                // 21. HÃ¬nh há»c (GÃ³c)
                { q: "Má»™t hÃ¬nh vuÃ´ng cÃ³ máº¥y gÃ³c vuÃ´ng?", options: ["2", "4", "3", "5"], correct: 1, explain: "HÃ¬nh vuÃ´ng cÃ³ 4 gÃ³c vuÃ´ng." },
                // 22. Äáº¡i lÆ°á»£ng (Thá»i gian)
                { q: "Kim phÃºt chá»‰ sá»‘ 12, kim giá» chá»‰ sá»‘ 7. Äá»“ng há»“ Ä‘ang chá»‰ máº¥y giá»?", options: ["12 giá» 7 phÃºt", "7 giá»", "7 giá» 12 phÃºt", "12 giá» 35 phÃºt"], correct: 1, explain: "Kim phÃºt chá»‰ sá»‘ 12 lÃ  giá» Ä‘Ãºng. Kim giá» chá»‰ sá»‘ 7 lÃ  7 giá»." },
                // 23. ToÃ¡n lá»i vÄƒn (Hiá»‡u)
                { q: "Má»™t sá»£i dÃ¢y dÃ i 85 cm. Cáº¯t Ä‘i 27 cm. Há»i sá»£i dÃ¢y cÃ²n láº¡i dÃ i bao nhiÃªu cm?", options: ["58 cm", "68 cm", "57 cm", "62 cm"], correct: 0, explain: "Sá»£i dÃ¢y cÃ²n láº¡i dÃ i: 85 - 27 = 58 (cm)." },
                // 24. Cáº¥u táº¡o sá»‘ (Sá»‘ cháºµn/láº»)
                { q: "Trong cÃ¡c sá»‘ sau: 25, 48, 63, 70. Sá»‘ nÃ o lÃ  sá»‘ láº»?", options: ["48", "70", "25", "63"], correct: 2, explain: "Sá»‘ láº» lÃ  sá»‘ cÃ³ táº­n cÃ¹ng lÃ  1, 3, 5, 7, 9. Sá»‘ 25 cÃ³ táº­n cÃ¹ng lÃ  5, nÃªn lÃ  sá»‘ láº»." },
                // 25. ToÃ¡n lá»i vÄƒn (PhÃ©p cá»™ng 3 sá»‘)
                { q: "BÃ¡c An trá»“ng 15 cÃ¢y cam, bÃ¡c BÃ¬nh trá»“ng 20 cÃ¢y chanh, bÃ¡c CÆ°á»ng trá»“ng 10 cÃ¢y bÆ°á»Ÿi. Cáº£ ba bÃ¡c trá»“ng Ä‘Æ°á»£c bao nhiÃªu cÃ¢y?", options: ["40 cÃ¢y", "45 cÃ¢y", "50 cÃ¢y", "35 cÃ¢y"], correct: 1, explain: "Tá»•ng sá»‘ cÃ¢y cáº£ ba bÃ¡c trá»“ng lÃ : 15 + 20 + 10 = 45 (cÃ¢y)." }
            ]
        },
    viet:{
      summary:{ strengths:["Nháº­n diá»‡n chá»¯ cÃ¡i"], weaknesses:["Äá»c tá»« Ä‘Ãºng"], intro:"Lá»›p 1 Tiáº¿ng Viá»‡t: Ã´n luyá»‡n chá»¯ cÃ¡i vÃ  tá»«."},
      concepts:[
        {label:"Chá»¯ cÃ¡i Ä‘áº§u", right:"A,B,C", explanation:"Nháº­n diá»‡n chá»¯ cÃ¡i Ä‘áº§u"},
      ],
      vocab:[{term:"Chá»¯ cÃ¡i", def:"Má»™t kÃ½ tá»± trong báº£ng chá»¯ cÃ¡i"}],
      quiz:[{q:"Chá»¯ cÃ¡i thá»© nháº¥t cá»§a tá»« 'BÃ n' lÃ ?", options:["B","A","N","None"], correct:0, explain:"Chá»¯ cÃ¡i Ä‘áº§u lÃ  B"}]
    },
    english:{
      summary:{ strengths:["Nháº­n diá»‡n chá»¯"], weaknesses:["Äá»c tá»«"], intro:"Lá»›p 1 Tiáº¿ng Anh: chá»¯ cÃ¡i vÃ  tá»« vá»±ng."},
      concepts:[{label:"Letter recognition", right:"A,B,C", explanation:"Recognize letters"}],
      vocab:[{term:"Letter", def:"A symbol of alphabet"}],
      quiz:[{q:"First letter of 'Cat'?", options:["C","A","T","None"], correct:0, explain:"First letter is C"}]
    }
  }
};

const grade2Data = {
  name:"Lá»›p 2",
  subjects:{
    math:{
      summary: { strengths:["Sá»‘ háº¡ng, Tá»•ng"], weaknesses:["Cá»™ng trá»« cÃ³ nhá»›"], intro:"Lá»›p 2 ToÃ¡n: Ã´n táº­p phÃ©p cá»™ng, trá»«, hÃ¬nh há»c."},
      concepts:[
        {label:"Cá»™ng cÃ³ nhá»›", wrong:"34+25=69", right:"34+25=59", explanation:"4+5=9,3+2=5 =>59"},
        {label:"Trá»« cÃ³ nhá»›", wrong:"62-28=44", right:"62-28=34", explanation:"2 khÃ´ng trá»« Ä‘Æ°á»£c 8, mÆ°á»£n 1"}
      ],
      vocab:[
        {term:"Sá»‘ háº¡ng", def:"ThÃ nh pháº§n trong phÃ©p cá»™ng"},
        {term:"Hiá»‡u", def:"Káº¿t quáº£ phÃ©p trá»«"}
      ],
      quiz:[
        {q:"47+35=?", options:["72","82","81","712"], correct:1, explain:"7+5=12, 4+3+1=8 => 82"},
        {q:"81-26=?", options:["55","54","65","64"], correct:0, explain:"81-26=55"}
      ]
    },
    viet:{
      summary:{ strengths:["Äá»c hiá»ƒu tá»«"], weaknesses:["Viáº¿t Ä‘Ãºng chÃ­nh táº£"], intro:"Lá»›p 2 Tiáº¿ng Viá»‡t: Ã´n táº­p Ä‘á»c viáº¿t."},
      concepts:[{label:"Viáº¿t Ä‘Ãºng tá»«", right:"Báº¡n", explanation:"VÃ­ dá»¥ viáº¿t Ä‘Ãºng tá»«"}],
      vocab:[{term:"Tá»«", def:"Má»™t nhÃ³m chá»¯ cÃ³ nghÄ©a"}],
      quiz:[{q:"Viáº¿t Ä‘Ãºng tá»«: 'Báº¡n'", options:["Ban","Báº¡n","BÃ¡n","BÃ n"], correct:1, explain:"Tá»« Ä‘Ãºng lÃ  'Báº¡n'"}]
    },
    english:{
      summary:{ strengths:["Äá»c hiá»ƒu tá»«"], weaknesses:["Viáº¿t Ä‘Ãºng"], intro:"Lá»›p 2 Tiáº¿ng Anh: tá»« vá»±ng cÆ¡ báº£n."},
      concepts:[{label:"Spell word", right:"Cat", explanation:"Viáº¿t Ä‘Ãºng tá»« Cat"}],
      vocab:[{term:"Word", def:"Má»™t tá»«"}],
      quiz:[{q:"Spell word 'Dog'", options:["Dog","Dag","Dug","Doog"], correct:0, explain:"Dog"}]
    }
  }
};

// ======== STATE ========
let currentGrade = grade1Data;
let currentSubject = "math";
const contentArea = document.getElementById('content-area');
const navSubjects = document.getElementById('nav-subjects');

// ======== FUNCTIONS ========
function switchGrade(grade){
  if(grade==="grade1"){currentGrade=grade1Data;}
  else if(grade==="grade2"){currentGrade=grade2Data;}
  // Update buttons
  document.getElementById('btn-grade1').classList.toggle('tab-active', grade==="grade1");
  document.getElementById('btn-grade2').classList.toggle('tab-active', grade==="grade2");
  document.getElementById('btn-grade1').classList.toggle('tab-inactive', grade!=="grade1");
  document.getElementById('btn-grade2').classList.toggle('tab-inactive', grade!=="grade2");
  renderSubjectTabs();
}

function renderSubjectTabs(){
  navSubjects.innerHTML="";
  for(let subj in currentGrade.subjects){
    const btn=document.createElement('button');
    btn.className='px-6 py-2 rounded-lg transition-all duration-300 tab-inactive';
    if(subj===currentSubject) btn.classList.replace('tab-inactive','tab-active');
    btn.innerText=subj==="math"?"ToÃ¡n":subj==="viet"?"Tiáº¿ng Viá»‡t":"Tiáº¿ng Anh";
    btn.onclick=()=>{currentSubject=subj; renderSubject(currentGrade.subjects[subj]); renderSubjectTabs();}
    navSubjects.appendChild(btn);
  }
  renderSubject(currentGrade.subjects[currentSubject]);
}

function renderSubject(subject){
  contentArea.innerHTML="";
  // Summary
  const sumDiv=document.createElement('div');
  sumDiv.className="mb-6 bg-blue-50 p-6 rounded-xl border border-blue-100";
  sumDiv.innerHTML=`<h2 class="text-2xl font-bold text-blue-800 mb-2">ğŸ‘‹ Tá»•ng Quan</h2><p class="text-blue-700">${subject.summary.intro}</p>`;
  contentArea.appendChild(sumDiv);

  // Strengths & Weaknesses
  const grid=document.createElement('div');
  grid.className="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6";

  const strengths=subject.summary.strengths.map(s=>`<li class="flex items-start"><span class="mr-2 text-green-500">âœ”</span>${s}</li>`).join('');
  const weaknesses=subject.summary.weaknesses.map(s=>`<li class="flex items-start"><span class="mr-2 text-red-500">âš ï¸</span>${s}</li>`).join('');

  const strDiv=document.createElement('div');
  strDiv.className="bg-green-50 p-5 rounded-xl border border-green-100";
  strDiv.innerHTML=`<h3 class="font-bold text-green-800 mb-3">ğŸŒŸ ÄÃ£ LÃ m Tá»‘t</h3><ul class="space-y-2">${strengths}</ul>`;

  const weakDiv=document.createElement('div');
  weakDiv.className="bg-red-50 p-5 rounded-xl border border-red-100";
  weakDiv.innerHTML=`<h3 class="font-bold text-red-800 mb-3">ğŸ¯ Cáº§n Cáº£i Thiá»‡n</h3><ul class="space-y-2">${weaknesses}</ul>`;

  grid.appendChild(strDiv); grid.appendChild(weakDiv);
  contentArea.appendChild(grid);

  // Concepts
  const conceptDiv=document.createElement('div'); conceptDiv.className="mb-6";
  conceptDiv.innerHTML="<h2 class='text-2xl font-bold text-gray-800 mb-2'>ğŸ“š BÃ i Há»c & Concepts</h2>";
  subject.concepts.forEach(c=>{
    conceptDiv.innerHTML+=`<div class="bg-white p-4 rounded-xl border border-gray-200 mb-3"><h4 class="font-bold text-gray-700">${c.label}</h4>${c.wrong?`<p class='text-red-500'>Sai: ${c.wrong}</p>`:""}<p class="text-green-600">ÄÃºng: ${c.right?c.right:""}</p><p class="text-gray-500 text-sm">ğŸ’¡ ${c.explanation}</p></div>`;
  });
  contentArea.appendChild(conceptDiv);

  // Vocabulary
  const vocabDiv=document.createElement('div'); vocabDiv.className="mb-6";
  vocabDiv.innerHTML="<h2 class='text-2xl font-bold text-gray-800 mb-2'>ğŸ“– Tá»« Vá»±ng</h2>";
  subject.vocab.forEach(v=>{
    vocabDiv.innerHTML+=`<div class="bg-white p-3 rounded-xl border border-gray-200 mb-2"><strong>${v.term}</strong>: ${v.def}</div>`;
  });
  contentArea.appendChild(vocabDiv);

  // Practice
  const practiceDiv=document.createElement('div'); practiceDiv.className="mb-6";
  practiceDiv.innerHTML="<h2 class='text-2xl font-bold text-gray-800 mb-2'>âœï¸ Luyá»‡n Táº­p</h2>";
  subject.quiz.forEach((q,i)=>{
    let optionsHTML=`<div class='grid grid-cols-1 sm:grid-cols-2 gap-2 mt-2'>`;
    q.options.forEach((opt,j)=>{ optionsHTML+=`<button onclick="checkAnswer(${i},${j},${JSON.stringify(subject.quiz)})" class="w-full p-2 rounded-lg border border-gray-200 hover:bg-gray-50 text-left">${String.fromCharCode(65+j)}. ${opt}</button>`; });
    optionsHTML+="</div>";
    practiceDiv.innerHTML+=`<div class="bg-white p-4 rounded-xl border border-gray-200 mb-3"><h4 class="font-bold">${q.q}</h4>${optionsHTML}<div id="feedback-${i}" class="hidden mt-2 p-2 rounded bg-gray-50 text-sm"></div></div>`;
  });
  contentArea.appendChild(practiceDiv);
}

function checkAnswer(qIndex,optIndex,quizData){
  const q=quizData[qIndex]; const feedback=document.getElementById(`feedback-${qIndex}`); feedback.classList.remove('hidden');
  const buttons=feedback.parentElement.querySelectorAll('button'); buttons.forEach(b=>b.disabled=true);
  if(optIndex===q.correct){buttons[optIndex].classList.add('correct-answer'); feedback.innerHTML=`ğŸ‰ ChÃ­nh xÃ¡c! ${q.explain}`;}
  else{buttons[optIndex].classList.add('incorrect-answer'); buttons[q.correct].classList.add('correct-answer'); feedback.innerHTML=`ğŸ˜… ChÆ°a Ä‘Ãºng. ${q.explain}`;}
}

// ======== INIT ========
renderSubjectTabs();
</script>

</body>
</html>
